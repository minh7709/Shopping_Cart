<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang chủ - Haiku Figure Store</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FCB3B3', // Màu hồng chủ đạo
                        secondary: '#F87171',
                        dark: '#1F2937'
                    }
                }
            }
        }
    </script>

    <style>
        /* Hiệu ứng fade cho Slider */
        .fade-enter {
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        .fade-enter-active {
            opacity: 1;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #FCB3B3; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #F87171; }
    </style>
</head>
<body class="font-sans text-gray-800" style="background-color: #F5F5F5;">

<!-- Include Header Fragment -->
<div th:replace="~{fragments/header :: header}"></div>

<div class="mx-auto mt-6 mb-12" style="padding-left: 115px; padding-right: 115px;">
    <div class="flex flex-col lg:flex-row gap-4 h-full">

        <aside class="w-full lg:w-1/4 flex-shrink-0">
            <div class="bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200">
                <div class="bg-black text-white px-5 py-3 flex items-center gap-3 font-bold text-lg uppercase tracking-wider">
                    <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg>
                    MENU
                </div>

                <ul class="divide-y divide-gray-100 text-sm font-medium text-gray-700">

                    <li>
                        <a href="/products?sort=soldQuantity,desc" class="flex items-center gap-3 px-5 py-3 hover:bg-gray-50 hover:text-secondary transition group">
                            <svg class="w-5 h-5 text-secondary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7" /></svg>
                            <span class="group-hover:translate-x-1 transition-transform">Best seller</span>
                        </a>
                    </li>

                    <li>
                        <a href="/products?sort=createdAt,desc" class="flex items-center gap-3 px-5 py-3 hover:bg-gray-50 hover:text-secondary transition group">
                            <svg class="w-5 h-5 text-secondary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7" /></svg>
                            <span class="group-hover:translate-x-1 transition-transform">Mới nhất (New Releases)</span>
                        </a>
                    </li>

                    <li>
                        <a href="/products?inStock=true" class="flex items-center gap-3 px-5 py-3 hover:bg-gray-50 hover:text-secondary transition group">
                            <svg class="w-5 h-5 text-gray-400 group-hover:text-secondary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" /></svg>
                            <span class="group-hover:translate-x-1 transition-transform">Sản phẩm trên kệ (In Stock)</span>
                        </a>
                    </li>

                    <li>
                        <a href="/products" class="flex items-center gap-3 px-5 py-3 hover:bg-gray-50 hover:text-secondary transition group">
                            <span class="w-5 flex justify-center text-[10px] font-bold border border-gray-400 rounded group-hover:border-secondary text-gray-400 group-hover:text-secondary">NEW</span>
                            <span class="group-hover:translate-x-1 transition-transform">Tất cả sản phẩm</span>
                        </a>
                    </li>

                    <li>
                        <a href="/products?categoryIds=4" class="flex items-center gap-3 px-5 py-3 hover:bg-gray-50 hover:text-secondary transition group">
                            <svg class="w-5 h-5 text-gray-400 group-hover:text-secondary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" /></svg>
                            <span class="group-hover:translate-x-1 transition-transform">Blind Box Series</span>
                        </a>
                    </li>

                    <li>
                        <a href="/products?categoryIds=2" class="flex items-center gap-3 px-5 py-3 hover:bg-gray-50 hover:text-secondary transition group">
                            <svg class="w-5 h-5 text-gray-400 group-hover:text-secondary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            <span class="group-hover:translate-x-1 transition-transform">Nendoroid</span>
                        </a>
                    </li>

                    <li>
                        <a href="/products?categoryIds=1" class="flex items-center gap-3 px-5 py-3 hover:bg-gray-50 hover:text-secondary transition group">
                            <svg class="w-5 h-5 text-gray-400 group-hover:text-secondary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                            <span class="group-hover:translate-x-1 transition-transform">Scale Figure</span>
                        </a>
                    </li>

                    <li>
                        <a href="/products?categoryIds=3" class="flex items-center gap-3 px-5 py-3 hover:bg-gray-50 hover:text-secondary transition group">
                            <svg class="w-5 h-5 text-gray-400 group-hover:text-secondary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                            <span class="group-hover:translate-x-1 transition-transform">Pop Up Parade</span>
                        </a>
                    </li>

                    <li class="border-t border-gray-100">
                        <a href="/products?isPreorder=true" class="flex items-center gap-3 px-5 py-3 hover:bg-gray-50 hover:text-secondary transition group">
                            <svg class="w-5 h-5 text-secondary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            <span class="font-bold text-secondary group-hover:translate-x-1 transition-transform">Pre-order / Đặt trước</span>
                        </a>
                    </li>
                </ul>
            </div>
        </aside>

        <main class="w-full lg:w-3/4">
            <div class="relative rounded-lg overflow-hidden shadow-sm group" style="width: 930px; height: 465px; max-width: 100%;">
                <div id="slides-container" class="relative w-full h-full">

                    <div class="absolute inset-0 transition-opacity duration-700 opacity-100 slide-item" data-index="0">
                        <img src="https://file.hstatic.net/200000462939/file/freeshipping.jpg" alt="Free Shipping" class="w-full h-full object-cover">
                    </div>

                    <div class="absolute inset-0 transition-opacity duration-700 opacity-0 slide-item" data-index="1">
                        <img src="https://file.hstatic.net/200000462939/file/figure_san_ship_ngay.jpg" alt="Figure Ship Ngay" class="w-full h-full object-cover">
                    </div>

                    <div class="absolute inset-0 transition-opacity duration-700 opacity-0 slide-item" data-index="2">
                        <img src="https://file.hstatic.net/200000462939/file/figure_preorder.jpg" alt="Preorder" class="w-full h-full object-cover">
                    </div>
                </div>

                <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 z-10">
                    <button onclick="goToSlide(0)" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white transition dot-item bg-white"></button>
                    <button onclick="goToSlide(1)" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white transition dot-item"></button>
                    <button onclick="goToSlide(2)" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white transition dot-item"></button>
                </div>

                <button onclick="prevSlide()" class="absolute top-1/2 left-4 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition">
                    <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
                </button>
                <button onclick="nextSlide()" class="absolute top-1/2 right-4 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition">
                    <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                </button>
            </div>
        </main>

    </div>

    <!-- HOT PRODUCTS & BLIND BOX - Full width bằng sidebar + slideshow -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6">
        <!-- HOT PRODUCTS with Slider -->
        <div class="bg-white rounded-lg shadow-sm p-5">
            <div class="flex justify-between items-center mb-4 pb-2 border-b border-gray-200">
                <h2 class="text-lg font-bold uppercase tracking-wide border-l-4 border-secondary pl-3 text-gray-800">
                    HOT PRODUCTS
                </h2>
                <a href="/products?sort=soldQuantity,desc" class="text-xs text-gray-500 hover:text-secondary transition font-medium">Xem tất cả »</a>
            </div>

            <div class="relative">
                <!-- Slider Container -->
                <div class="overflow-hidden">
                    <div id="hotProductsSlider" class="flex transition-transform duration-500 ease-out">
                        <div th:each="product, iterStat : ${hotProducts}"
                             class="flex-shrink-0 w-1/3 px-1.5 group">
                            <div class="relative aspect-square bg-gray-50 rounded-lg overflow-hidden mb-2">
                                <div th:if="${!product.isPreorder && product.stockQuantity > 0}"
                                     class="absolute top-2 left-[-25px] -rotate-45 bg-blue-500 text-white text-[8px] font-bold w-[80px] text-center py-0.5 shadow-sm z-10">
                                    In Stock
                                </div>
                                <div th:if="${product.isPreorder}"
                                     class="absolute top-2 left-[-25px] -rotate-45 bg-green-500 text-white text-[8px] font-bold w-[80px] text-center py-0.5 shadow-sm z-10">
                                    Pre-order
                                </div>
                                <a th:href="@{/products/{id}(id=${product.id})}">
                                    <img th:src="${product.mainImageUrl != null ? product.mainImageUrl : 'https://via.placeholder.com/300'}"
                                         alt="Product"
                                         class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"/>
                                </a>
                            </div>
                            <h3 class="text-xs font-medium text-gray-700 line-clamp-2 mb-1 group-hover:text-secondary transition leading-tight">
                                <a th:href="@{/products/{id}(id=${product.id})}" th:text="${product.name}">Tên sản phẩm</a>
                            </h3>
                            <span class="text-secondary font-bold text-sm"
                                  th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT')} + 'đ'">
                                1.000.000đ
                            </span>
                        </div>
                    </div>
                </div>
                <!-- Navigation Buttons -->
                <button onclick="slideHotProducts(-1)" class="absolute left-0 top-1/3 -translate-y-1/2 -ml-3 w-8 h-8 bg-white rounded-full shadow-md flex items-center justify-center hover:bg-gray-100 hover:scale-110 active:scale-95 transition-all duration-200 z-10">
                    <svg class="w-4 h-4 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                </button>
                <button onclick="slideHotProducts(1)" class="absolute right-0 top-1/3 -translate-y-1/2 -mr-3 w-8 h-8 bg-white rounded-full shadow-md flex items-center justify-center hover:bg-gray-100 hover:scale-110 active:scale-95 transition-all duration-200 z-10">
                    <svg class="w-4 h-4 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                </button>
                <!-- Dots Indicator -->
                <div class="flex justify-center mt-3 gap-1.5" id="hotProductsDots"></div>
            </div>
        </div>

        <!-- BLIND BOX with Slider -->
        <div class="bg-white rounded-lg shadow-sm p-5">
            <div class="flex justify-between items-center mb-4 pb-2 border-b border-gray-200">
                <h2 class="text-lg font-bold uppercase tracking-wide border-l-4 border-secondary pl-3 text-gray-800">
                    BLIND BOX
                </h2>
                <a href="/products?categoryIds=4" class="text-xs text-gray-500 hover:text-secondary transition font-medium">Xem tất cả »</a>
            </div>

            <div class="relative">
                <!-- Slider Container -->
                <div class="overflow-hidden">
                    <div id="blindboxSlider" class="flex transition-transform duration-500 ease-out">
                        <div th:each="product, iterStat : ${blindboxProducts}"
                             class="flex-shrink-0 w-1/3 px-1.5 group">
                            <div class="relative aspect-square bg-gray-50 rounded-lg overflow-hidden mb-2">
                                <div th:if="${product.isPreorder}"
                                     class="absolute top-2 left-[-25px] -rotate-45 bg-green-500 text-white text-[8px] font-bold w-[80px] text-center py-0.5 shadow-sm z-10">
                                    Pre-order
                                </div>
                                <div th:if="${!product.isPreorder && product.stockQuantity > 0}"
                                     class="absolute top-2 left-[-25px] -rotate-45 bg-blue-500 text-white text-[8px] font-bold w-[80px] text-center py-0.5 shadow-sm z-10">
                                    In Stock
                                </div>
                                <a th:href="@{/products/{id}(id=${product.id})}">
                                    <img th:src="${product.mainImageUrl != null ? product.mainImageUrl : 'https://via.placeholder.com/300'}"
                                         alt="Product"
                                         class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"/>
                                </a>
                            </div>
                            <h3 class="text-xs font-medium text-gray-700 line-clamp-2 mb-1 group-hover:text-secondary transition leading-tight">
                                <a th:href="@{/products/{id}(id=${product.id})}" th:text="${product.name}">Tên sản phẩm</a>
                            </h3>
                            <span class="text-secondary font-bold text-sm"
                                  th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT')} + 'đ'">
                                1.000.000đ
                            </span>
                        </div>
                    </div>
                </div>
                <!-- Navigation Buttons -->
                <button onclick="slideBlindbox(-1)" class="absolute left-0 top-1/3 -translate-y-1/2 -ml-3 w-8 h-8 bg-white rounded-full shadow-md flex items-center justify-center hover:bg-gray-100 hover:scale-110 active:scale-95 transition-all duration-200 z-10">
                    <svg class="w-4 h-4 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                </button>
                <button onclick="slideBlindbox(1)" class="absolute right-0 top-1/3 -translate-y-1/2 -mr-3 w-8 h-8 bg-white rounded-full shadow-md flex items-center justify-center hover:bg-gray-100 hover:scale-110 active:scale-95 transition-all duration-200 z-10">
                    <svg class="w-4 h-4 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                </button>
                <!-- Dots Indicator -->
                <div class="flex justify-center mt-3 gap-1.5" id="blindboxDots"></div>
            </div>
        </div>
    </div>

    <!-- IN STOCK - Full width -->
    <div class="bg-white rounded-lg shadow-sm p-5 mt-6">
        <div class="flex justify-between items-center mb-4 pb-2 border-b border-gray-200">
            <h2 class="text-lg font-bold uppercase tracking-wide border-l-4 border-secondary pl-3 text-gray-800">
                IN STOCK
            </h2>
            <a href="/products?inStock=true" class="text-xs text-gray-500 hover:text-secondary transition font-medium">Xem tất cả »</a>
        </div>

        <div class="grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3">
            <div th:each="product : ${inStockProducts}" class="group">
                <div class="relative aspect-square bg-gray-50 rounded-lg overflow-hidden mb-2">
                    <div class="absolute top-1.5 left-[-20px] -rotate-45 bg-blue-500 text-white text-[7px] font-bold w-[65px] text-center py-0.5 shadow-sm z-10">
                        In Stock
                    </div>
                    <a th:href="@{/products/{id}(id=${product.id})}">
                        <img th:src="${product.mainImageUrl != null ? product.mainImageUrl : 'https://via.placeholder.com/300'}"
                             alt="Product"
                             class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"/>
                    </a>
                </div>
                <h3 class="text-[10px] font-medium text-gray-700 line-clamp-2 mb-1 group-hover:text-secondary transition leading-tight">
                    <a th:href="@{/products/{id}(id=${product.id})}" th:text="${product.name}">Tên sản phẩm</a>
                </h3>
                <span class="text-secondary font-bold text-xs"
                      th:text="${#numbers.formatDecimal(product.price, 0, 'COMMA', 0, 'POINT')} + 'đ'">
                    1.000.000đ
                </span>
            </div>
        </div>

        <!-- Nút Xem tất cả -->
        <div class="flex justify-center mt-6">
            <a href="/products?inStock=true"
               class="px-8 py-2.5 bg-secondary hover:bg-red-500 text-white font-medium rounded-full transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5">
                Xem tất cả sản phẩm
            </a>
        </div>
    </div>
</div>

<!-- Include Footer Fragment -->
<div th:replace="~{fragments/footer :: footer}"></div>

<script>
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide-item');
    const dots = document.querySelectorAll('.dot-item');
    const totalSlides = slides.length;
    let slideInterval;

    function showSlide(index) {
        // Reset opacity
        slides.forEach(slide => slide.classList.remove('opacity-100'));
        slides.forEach(slide => slide.classList.add('opacity-0'));

        // Set active slide
        slides[index].classList.remove('opacity-0');
        slides[index].classList.add('opacity-100');

        // Update dots
        dots.forEach(dot => dot.classList.remove('bg-white'));
        dots.forEach(dot => dot.classList.add('bg-white/50'));
        dots[index].classList.remove('bg-white/50');
        dots[index].classList.add('bg-white');

        currentSlide = index;
    }

    function nextSlide() {
        let next = (currentSlide + 1) % totalSlides;
        showSlide(next);
    }

    function prevSlide() {
        let prev = (currentSlide - 1 + totalSlides) % totalSlides;
        showSlide(prev);
    }

    function goToSlide(index) {
        showSlide(index);
        resetInterval();
    }

    function startSlider() {
        slideInterval = setInterval(nextSlide, 5000); // Tự động chuyển sau 5s
    }

    function resetInterval() {
        clearInterval(slideInterval);
        startSlider();
    }

    // Init
    startSlider();

    // ========== HOT PRODUCTS SLIDER ==========
    let hotProductsPage = 0;
    const hotProductsSlider = document.getElementById('hotProductsSlider');
    const hotProductsItems = hotProductsSlider ? hotProductsSlider.children.length : 0;
    const hotProductsPerView = 3;
    const hotProductsTotalPages = Math.ceil(hotProductsItems / hotProductsPerView);

    function updateHotProductsDots() {
        const dotsContainer = document.getElementById('hotProductsDots');
        if (!dotsContainer) return;
        dotsContainer.innerHTML = '';
        for (let i = 0; i < hotProductsTotalPages; i++) {
            const dot = document.createElement('span');
            dot.className = `w-2 h-2 rounded-full cursor-pointer transition ${i === hotProductsPage ? 'bg-secondary' : 'bg-gray-300'}`;
            dot.onclick = () => {
                hotProductsPage = i;
                slideHotProductsTo(hotProductsPage);
            };
            dotsContainer.appendChild(dot);
        }
    }

    function slideHotProductsTo(page) {
        if (!hotProductsSlider) return;
        // Tính toán percentage dựa trên trang (mỗi trang = 3 sản phẩm = 100%)
        const percentage = page * 100;
        hotProductsSlider.style.transform = `translateX(-${percentage}%)`;
        updateHotProductsDots();
    }

    function slideHotProducts(direction) {
        hotProductsPage += direction;
        if (hotProductsPage < 0) hotProductsPage = hotProductsTotalPages - 1;
        if (hotProductsPage >= hotProductsTotalPages) hotProductsPage = 0;
        slideHotProductsTo(hotProductsPage);
    }

    // ========== BLIND BOX SLIDER ==========
    let blindboxPage = 0;
    const blindboxSlider = document.getElementById('blindboxSlider');
    const blindboxItems = blindboxSlider ? blindboxSlider.children.length : 0;
    const blindboxPerView = 3;
    const blindboxTotalPages = Math.ceil(blindboxItems / blindboxPerView);

    function updateBlindboxDots() {
        const dotsContainer = document.getElementById('blindboxDots');
        if (!dotsContainer) return;
        dotsContainer.innerHTML = '';
        for (let i = 0; i < blindboxTotalPages; i++) {
            const dot = document.createElement('span');
            dot.className = `w-2 h-2 rounded-full cursor-pointer transition ${i === blindboxPage ? 'bg-secondary' : 'bg-gray-300'}`;
            dot.onclick = () => {
                blindboxPage = i;
                slideBlindboxTo(blindboxPage);
            };
            dotsContainer.appendChild(dot);
        }
    }

    function slideBlindboxTo(page) {
        if (!blindboxSlider) return;
        // Tính toán percentage dựa trên trang (mỗi trang = 3 sản phẩm = 100%)
        const percentage = page * 100;
        blindboxSlider.style.transform = `translateX(-${percentage}%)`;
        updateBlindboxDots();
    }

    function slideBlindbox(direction) {
        blindboxPage += direction;
        if (blindboxPage < 0) blindboxPage = blindboxTotalPages - 1;
        if (blindboxPage >= blindboxTotalPages) blindboxPage = 0;
        slideBlindboxTo(blindboxPage);
    }

    // Initialize dots
    updateHotProductsDots();
    updateBlindboxDots();
</script>

</body>
</html>